<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <section class="drug-list-wrapper">
            <div class="card">
                <div class="row">
                    <div class="col-md-6 col-12">
                        <button class="btn btn-primary" (click)="toggleSidebar('digitaldata-add-sidebar')">
                            <i size="18" class="fa fa-plus"></i>
                            Add Digital Data
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-12">
                        <div class="d-flex justify-content-between align-items-center m-1">
                            <div class="d-flex align-items-center">
                                <label class="d-flex align-items-center">
                                    Show
                                    <select class="form-control mx-25" [(ngModel)]="selectedOption">
                                        <option value="10">10</option>
                                        <option value="25">25</option>
                                        <option value="50">50</option>
                                        <option value="100">100</option>
                                    </select>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="
              col-md-6 col-lg-4 col-12
              d-flex
              justify-content-start justify-content-md-end
              align-items-center
              offset-lg-2
            ">
                        <div class="row pr-1 pb-1 pb-md-0 align-items-center w-100">

                            <div class="col-10 col-md-12 mt-2 ml-1 ml-md-0 mt-md-0">
                                <label class="d-flex align-items-center mb-0 ml-1 ml-md-0">
                                    <input [(ngModel)]="searchValue"
                                           name="searchValue"
                                           type="search"
                                           class="form-control"
                                           placeholder="Search..."
                                           (keyup)="filterUpdate($event)"
                                           (search)="filterUpdate($event)" />
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Invoice List Table -->
                <ngx-datatable [rows]="rows"
                               rowHeight="auto"
                               class="bootstrap core-bootstrap"
                               [limit]="selectedOption"
                               [columnMode]="ColumnMode.force"
                               [headerHeight]="50"
                               [footerHeight]="50"
                               [scrollbarH]="true">
                    <ngx-datatable-column name="Date" prop="created_At">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <div class="row">
                                <div class="col-12">{{row.created_At | date: 'dd/MM/yyyy'}}</div>
                            </div>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Scan Name" prop="scan_Name"></ngx-datatable-column>
                    <ngx-datatable-column name="Type" prop="type"></ngx-datatable-column>
                    <ngx-datatable-column name="Report" [sortable]="false">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <div class="d-flex col-actions text_align_center">
                                <a class="mb-1"
                                   container="body"
                                   placement="top"
                                   (click)="preview(row.id)"
                                   ngbTooltip="View Report">
                                    <i size="18" data-feather="eye"></i>
                                </a>
                            </div>
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="Actions" [sortable]="false">
                        <ng-template ngx-datatable-cell-template let-row="row">
                            <div class="d-flex text_align_center pl-20">
                                <a class="mr-1 bg-light-danger m-0"
                                   container="body"
                                   placement="top"
                                   href="javascript:void(0)" (click)="delete(row.id)"
                                   ngbTooltip="Delete">
                                    <i size="18" class="fa fa-close"></i>
                                    <!--<i size="18" data-feather="trash"></i>-->
                                </a>
                            </div>
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>
            </div>
        </section>
    </div>

    <!--<ng-template #modalBasic let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel1">Basic Modal</h4>
            <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" tabindex="0" ngbAutofocus>
            <h5>Check First Paragraph</h5>
            <p>
                Oat cake ice cream candy chocolate cake chocolate cake cotton candy drag�e apple pie. Brownie
                carrot cake candy canes bonbon fruitcake topping halvah. Cake sweet roll cake cheesecake cookie
                chocolate cake liquorice.
            </p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="modal.close('Accept click')" rippleEffect>
                Accept
            </button>
        </div>
    </ng-template>-->
    <div class="modal fade my-modal" tabindex="-1" role="dialog" #myModal>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Report File</h5>
                    <button type="button" class="close" (click)="close()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="overflow:auto">
                    <img [src]="base64ImagePreview" style="max-height:400px" alt="report">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="close()">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade my-modal" tabindex="-1" role="dialog" #digitalPreviewModal>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Data</h5>
                    <button type="button" class="close" (click)="close()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="overflow:auto">
                    <form id="form-modal-todo"
                          class="todo-modal needs-validation"
                          (ngSubmit)="(todoForm.form.valid)"
                          #todoForm="ngForm">
                        <div class="action-tags">
                            <div class="form-group">
                                <label for="basic-medicinetype"
                                       [class.invalid-class]="submitted && formData.scan_Name.errors">Name</label>
                                <input type="text" [formControl]="formData.scan_Name" class="form-control" placeholder=""
                                       aria-describedby="formData.scan_Name" tabindex="5"
                                       [ngClass]="{ 'is-invalid': submitted && formData.scan_Name.errors }" />
                                <ng-container *ngFor="let error of formData.scan_Name.errors | errorKeys">
                                    <span *ngIf="submitted" class="invalid-class"> {{ messages[error] }}</span>
                                </ng-container>
                            </div>
                            <div class="form-group">
                                <label [class.invalid-class]="submitted && formData.type.errors">Type</label>
                                <select class="form-control" [formControl]="formData.type"
                                        [ngClass]="{ 'is-invalid': submitted && formData.type.errors }">
                                    <option value="">Select Scan Name</option>
                                    <option value="X-rays">X-rays</option>
                                    <option value="Forms">Forms</option>
                                    <option value="Pictures">Pictures</option>
                                    <option value="Audio Files">Audio Files</option>
                                    <option value="Video Files">Video Files</option>
                                    <option value="Lab digital data">Lab digital data</option>
                                    <option value="Others">Others</option>
                                </select>
                                <ng-container *ngFor="let error of formData.type.errors | errorKeys">
                                    <span *ngIf="submitted" class="invalid-class">
                                        {{
  messages[error]
                                        }}
                                    </span>
                                </ng-container>
                            </div>
                            <div class="form-group">
                                <label>Select File</label>
                                <div class="avatar-upload text-center ">
                                    <div class="avatar-edit">
                                        <input type="file" (change)="convertToBase64($event)" class="form-control" name="photo" id="imageUpload" accept=".png, .jpg, .jpeg">
                                        <label for="imageUpload"></label>
                                    </div>
                                    <div *ngIf="base64Image" class="avatar-preview" id="imagePreview"
                                         [style.background-image]="'url(' + base64Image + ')'">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group my-1">
                            <div class="modal-footer">
                                <button type="submit" (click)="saveForm();"
                                        class="btn btn-primary add-todo-item mr-1"
                                        rippleEffect>
                                    Add
                                </button>
                                <button type="button" class="btn btn-secondary" (click)="close()">
                                    Close
                                </button>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>
